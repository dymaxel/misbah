<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_stock_move_line_detailed_operation_tree_custom" model="ir.ui.view">
        <field name="name">stock.move.line.operations.tree.custom</field>
        <field name="model">stock.move.line</field>
        <field name="inherit_id" ref="stock.view_stock_move_line_detailed_operation_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='qty_done']" position="after">
                <field name="notes"
                       attrs="{'readonly': [('state', 'in', ('done', 'cancel')), ('is_locked', '=', True)]}"
                       force_save="1"/>
            </xpath>
        </field>
    </record>

    <record id="view_stock_picking_form_custom" model="ir.ui.view">
        <field name="name">stock.picking.form.custom</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form"/>
        <field name="arch" type="xml">
            <xpath expr="//page[@name='note']" position="after">
                <page string="Scan Logs" name="scan_logs">
                    <field name="barcode_scan_time">
                        <tree editable="top">
                            <field name="stock_picking_id" invisible="1"/>
                            <field name="product"/>
                            <field name="barcode"/>
                            <field name="description"/>
                            <field name="scan_date_time"/>
                        </tree>
                    </field>
                </page>
            </xpath>
        </field>
    </record>

    <record id="view_stock_picking_batch_form_custom" model="ir.ui.view">
        <field name="name">stock.picking.batch.form.custom</field>
        <field name="model">stock.picking.batch</field>
        <field name="inherit_id" ref="stock_picking_batch.stock_picking_batch_form"/>
        <field name="arch" type="xml">
            <xpath expr="//notebook" position="inside">
                <page string="Scan Batch Logs" name="scan_batch_logs">
                    <field name="batch_barcode_scan_time">
                        <tree editable="top">
                            <field name="stock_picking_batch_id"/>
                            <field name="scan_date_time"/>
                        </tree>
                    </field>
                </page>
            </xpath>
        </field>
    </record>


    <!--    <record id="view_product_template_case_barcode" model="ir.ui.view">
            <field name="name">view.product.template.case.barcode</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_only_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='barcode']" position="after">
                    <field name="case_barcode"/>
                </xpath>
            </field>
        </record>-->
    <menuitem id="menu_wms_barcode_nomenclature_all" parent="stock.menu_product_in_config_stock" action="barcodes.action_barcode_nomenclature_form"
        sequence="50" />
</odoo>